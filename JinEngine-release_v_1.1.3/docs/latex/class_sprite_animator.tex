\doxysection{Sprite\+Animator Class Reference}
\hypertarget{class_sprite_animator}{}\label{class_sprite_animator}\index{SpriteAnimator@{SpriteAnimator}}


Time-\/based sprite sheet animation player.  




{\ttfamily \#include $<$Animation.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_sprite_animator_a67de66a8bb6d95c356e1384c87cf359f}{Sprite\+Animator}} (\mbox{\hyperlink{class_sprite_sheet}{Sprite\+Sheet}} \texorpdfstring{$\ast$}{*}sheet\+\_\+, float frame\+Time\+\_\+, bool loop\+\_\+=true)
\begin{DoxyCompactList}\small\item\em Constructs an animator bound to a sprite sheet. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_sprite_animator_af2935db4720fc2387d34796559412404}{Play\+Clip}} (int start, int end, bool loop\+\_\+=true)
\begin{DoxyCompactList}\small\item\em Plays a frame range animation \mbox{[}start, end\mbox{]}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_sprite_animator_aac8752dcb1e73427d97e4f3126ec841a}{Play\+Clip}} (const std\+::string \&clip\+Name)
\begin{DoxyCompactList}\small\item\em Plays a named animation clip from the bound \doxylink{class_sprite_sheet}{Sprite\+Sheet}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_sprite_animator_a23f9880b2fdbbd23fe48f25526cafb07}{Update}} (float dt)
\begin{DoxyCompactList}\small\item\em Advances the animation state by delta time. \end{DoxyCompactList}\item 
glm\+::vec2 \mbox{\hyperlink{class_sprite_animator_a8128f7ba56f5127ee553411395eb3256}{Get\+UVOffset}} () const
\begin{DoxyCompactList}\small\item\em Returns the UV offset for the current frame. \end{DoxyCompactList}\item 
glm\+::vec2 \mbox{\hyperlink{class_sprite_animator_aabc0ec5b983de02c99eaf51b4fefc3b5}{Get\+UVScale}} () const
\begin{DoxyCompactList}\small\item\em Returns the UV scale for a single frame cell. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_texture}{Texture}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_sprite_animator_a0b81f72271d4317d88ba9e235cca8f1c}{Get\+Texture}} ()
\begin{DoxyCompactList}\small\item\em Returns the texture used by the bound sprite sheet. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_sprite_animator_ac1f67603f393000a573dff1308e1245f}{Set\+Frame}} (int frame)
\begin{DoxyCompactList}\small\item\em Forces the current frame index. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_sprite_animator_adb6d3704d6333f420d16bb2e2e7b5855}{Get\+Current\+Frame}} () const
\begin{DoxyCompactList}\small\item\em Returns the current frame index. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_sprite_sheet}{Sprite\+Sheet}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_sprite_animator_a75066ecd65e5bf5c3a683b91420cfdf9}{Get\+Sprite\+Sheet}} () const
\begin{DoxyCompactList}\small\item\em Returns the sprite sheet currently bound to this animator. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_sprite_animator_a8039ef8f1a6974c9edb591656a328454}{Is\+Clip\+Finished}} () const
\begin{DoxyCompactList}\small\item\em Returns whether the current non-\/looping animation has finished. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_sprite_sheet}{Sprite\+Sheet}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_sprite_animator_ac69e0d3cdfccaaf0952a68cc67501ed7}{sheet}}
\item 
float \mbox{\hyperlink{class_sprite_animator_ad6c488dd70434014d2d203482e188a93}{frame\+Time}}
\item 
float \mbox{\hyperlink{class_sprite_animator_abc34368dd943697e8657a68c554329fe}{elapsed}} = 0.\+0f
\item 
int \mbox{\hyperlink{class_sprite_animator_add19e00a74d70def2375d6fa40605b8e}{current\+Frame}} = 0
\item 
int \mbox{\hyperlink{class_sprite_animator_af0127d4a6d5804580ed0bdc749e48fe6}{start\+Frame}} = 0
\item 
int \mbox{\hyperlink{class_sprite_animator_ac7766936f67b1e7bd0d031d3d53c087c}{end\+Frame}} = 0
\item 
bool \mbox{\hyperlink{class_sprite_animator_a0de89a6edb4094e019640ee24e21d626}{loop}} = true
\item 
const \mbox{\hyperlink{struct_sprite_clip}{Sprite\+Clip}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_sprite_animator_a3b0b375da67fba82d5767da746200ba2}{playing\+Clip}} = nullptr
\item 
int \mbox{\hyperlink{class_sprite_animator_ae4b7c71c1e14cb5fb6b430ed58ae5bfd}{clip\+Frame\+Index}} = 0
\item 
bool \mbox{\hyperlink{class_sprite_animator_a401e9176bb78855cf879768843e033f4}{is\+Clip\+Finished}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Time-\/based sprite sheet animation player. 

\doxylink{class_sprite_animator}{Sprite\+Animator} advances a current frame over time and exposes per-\/frame UV data.

Two playback modes are supported\+:
\begin{DoxyItemize}
\item Range-\/based playback via Play\+Clip(start, end)
\item Named clip playback via Play\+Clip(clip\+Name), using \doxylink{class_sprite_sheet_aaa4e33b8d39dc2f9b714a1d4152e5271}{Sprite\+Sheet\+::\+Get\+Clip}
\end{DoxyItemize}

The animator does not own the \doxylink{class_sprite_sheet}{Sprite\+Sheet} pointer. It is expected that calling code pushes the returned UV offset/scale into a Material/\+Shader uniform each frame (e.\+g., for atlas sampling). 

Definition at line \mbox{\hyperlink{_animation_8h_source_l00165}{165}} of file \mbox{\hyperlink{_animation_8h_source}{Animation.\+h}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_sprite_animator_a67de66a8bb6d95c356e1384c87cf359f}\index{SpriteAnimator@{SpriteAnimator}!SpriteAnimator@{SpriteAnimator}}
\index{SpriteAnimator@{SpriteAnimator}!SpriteAnimator@{SpriteAnimator}}
\doxysubsubsection{\texorpdfstring{SpriteAnimator()}{SpriteAnimator()}}
{\footnotesize\ttfamily \label{class_sprite_animator_a67de66a8bb6d95c356e1384c87cf359f} 
Sprite\+Animator\+::\+Sprite\+Animator (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_sprite_sheet}{Sprite\+Sheet}} \texorpdfstring{$\ast$}{*}}]{sheet\+\_\+}{, }\item[{float}]{frame\+Time\+\_\+}{, }\item[{bool}]{loop\+\_\+}{ = {\ttfamily true}}\end{DoxyParamCaption})}



Constructs an animator bound to a sprite sheet. 


\begin{DoxyParams}{Parameters}
{\em sheet\+\_\+} & Sprite sheet providing UV mapping. \\
\hline
{\em frame\+Time\+\_\+} & Default time per frame (seconds) for range-\/based playback. \\
\hline
{\em loop\+\_\+} & Whether range-\/based playback loops by default. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_animation_8cpp_source_l00056}{56}} of file \mbox{\hyperlink{_animation_8cpp_source}{Animation.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00057\ \ \ \ \ :\ \mbox{\hyperlink{class_sprite_animator_ac69e0d3cdfccaaf0952a68cc67501ed7}{sheet}}(sheet\_),\ \mbox{\hyperlink{class_sprite_animator_ad6c488dd70434014d2d203482e188a93}{frameTime}}(frameTime\_),\ \mbox{\hyperlink{class_sprite_animator_a0de89a6edb4094e019640ee24e21d626}{loop}}(loop\_),\ \mbox{\hyperlink{class_sprite_animator_a401e9176bb78855cf879768843e033f4}{isClipFinished}}(\textcolor{keyword}{false})\ \{}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_sprite_animator_ad6c488dd70434014d2d203482e188a93}{frameTime}}\ ==\ 0.f)\ \mbox{\hyperlink{class_sprite_animator_ad6c488dd70434014d2d203482e188a93}{frameTime}}\ =\ 0.001f;}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{class_sprite_animator_adb6d3704d6333f420d16bb2e2e7b5855}\index{SpriteAnimator@{SpriteAnimator}!GetCurrentFrame@{GetCurrentFrame}}
\index{GetCurrentFrame@{GetCurrentFrame}!SpriteAnimator@{SpriteAnimator}}
\doxysubsubsection{\texorpdfstring{GetCurrentFrame()}{GetCurrentFrame()}}
{\footnotesize\ttfamily \label{class_sprite_animator_adb6d3704d6333f420d16bb2e2e7b5855} 
int Sprite\+Animator\+::\+Get\+Current\+Frame (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [nodiscard]}}



Returns the current frame index. 



Definition at line \mbox{\hyperlink{_animation_8h_source_l00243}{243}} of file \mbox{\hyperlink{_animation_8h_source}{Animation.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00243\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_sprite_animator_add19e00a74d70def2375d6fa40605b8e}{currentFrame}};\ \}}

\end{DoxyCode}
\Hypertarget{class_sprite_animator_a75066ecd65e5bf5c3a683b91420cfdf9}\index{SpriteAnimator@{SpriteAnimator}!GetSpriteSheet@{GetSpriteSheet}}
\index{GetSpriteSheet@{GetSpriteSheet}!SpriteAnimator@{SpriteAnimator}}
\doxysubsubsection{\texorpdfstring{GetSpriteSheet()}{GetSpriteSheet()}}
{\footnotesize\ttfamily \label{class_sprite_animator_a75066ecd65e5bf5c3a683b91420cfdf9} 
\mbox{\hyperlink{class_sprite_sheet}{Sprite\+Sheet}} \texorpdfstring{$\ast$}{*} Sprite\+Animator\+::\+Get\+Sprite\+Sheet (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [nodiscard]}}



Returns the sprite sheet currently bound to this animator. 



Definition at line \mbox{\hyperlink{_animation_8h_source_l00248}{248}} of file \mbox{\hyperlink{_animation_8h_source}{Animation.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00248\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_sprite_animator_ac69e0d3cdfccaaf0952a68cc67501ed7}{sheet}};\ \}}

\end{DoxyCode}
\Hypertarget{class_sprite_animator_a0b81f72271d4317d88ba9e235cca8f1c}\index{SpriteAnimator@{SpriteAnimator}!GetTexture@{GetTexture}}
\index{GetTexture@{GetTexture}!SpriteAnimator@{SpriteAnimator}}
\doxysubsubsection{\texorpdfstring{GetTexture()}{GetTexture()}}
{\footnotesize\ttfamily \label{class_sprite_animator_a0b81f72271d4317d88ba9e235cca8f1c} 
\mbox{\hyperlink{class_texture}{Texture}} \texorpdfstring{$\ast$}{*} Sprite\+Animator\+::\+Get\+Texture (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [nodiscard]}}



Returns the texture used by the bound sprite sheet. 

\begin{DoxyReturn}{Returns}
\doxylink{class_texture}{Texture} pointer if sheet is valid; otherwise nullptr. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_animation_8h_source_l00231}{231}} of file \mbox{\hyperlink{_animation_8h_source}{Animation.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00231\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_sprite_animator_ac69e0d3cdfccaaf0952a68cc67501ed7}{sheet}}\ ?\ \mbox{\hyperlink{class_sprite_animator_ac69e0d3cdfccaaf0952a68cc67501ed7}{sheet}}-\/>GetTexture()\ :\ \textcolor{keyword}{nullptr};\ \}}

\end{DoxyCode}
\Hypertarget{class_sprite_animator_a8128f7ba56f5127ee553411395eb3256}\index{SpriteAnimator@{SpriteAnimator}!GetUVOffset@{GetUVOffset}}
\index{GetUVOffset@{GetUVOffset}!SpriteAnimator@{SpriteAnimator}}
\doxysubsubsection{\texorpdfstring{GetUVOffset()}{GetUVOffset()}}
{\footnotesize\ttfamily \label{class_sprite_animator_a8128f7ba56f5127ee553411395eb3256} 
glm\+::vec2 Sprite\+Animator\+::\+Get\+UVOffset (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [nodiscard]}}



Returns the UV offset for the current frame. 

\begin{DoxyReturn}{Returns}
UV offset for the currently playing frame. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_animation_8cpp_source_l00148}{148}} of file \mbox{\hyperlink{_animation_8cpp_source}{Animation.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00149\ \{}
\DoxyCodeLine{00150\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_sprite_animator_ac69e0d3cdfccaaf0952a68cc67501ed7}{sheet}}\ ?\ \mbox{\hyperlink{class_sprite_animator_ac69e0d3cdfccaaf0952a68cc67501ed7}{sheet}}-\/>GetUVOffset(\mbox{\hyperlink{class_sprite_animator_add19e00a74d70def2375d6fa40605b8e}{currentFrame}})\ :\ glm::vec2(0.0f);}
\DoxyCodeLine{00151\ \}}

\end{DoxyCode}
\Hypertarget{class_sprite_animator_aabc0ec5b983de02c99eaf51b4fefc3b5}\index{SpriteAnimator@{SpriteAnimator}!GetUVScale@{GetUVScale}}
\index{GetUVScale@{GetUVScale}!SpriteAnimator@{SpriteAnimator}}
\doxysubsubsection{\texorpdfstring{GetUVScale()}{GetUVScale()}}
{\footnotesize\ttfamily \label{class_sprite_animator_aabc0ec5b983de02c99eaf51b4fefc3b5} 
glm\+::vec2 Sprite\+Animator\+::\+Get\+UVScale (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [nodiscard]}}



Returns the UV scale for a single frame cell. 

\begin{DoxyReturn}{Returns}
UV scale for a single frame. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_animation_8cpp_source_l00153}{153}} of file \mbox{\hyperlink{_animation_8cpp_source}{Animation.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00154\ \{}
\DoxyCodeLine{00155\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_sprite_animator_ac69e0d3cdfccaaf0952a68cc67501ed7}{sheet}}\ ?\ \mbox{\hyperlink{class_sprite_animator_ac69e0d3cdfccaaf0952a68cc67501ed7}{sheet}}-\/>GetUVScale()\ :\ glm::vec2(1.0f);}
\DoxyCodeLine{00156\ \}}

\end{DoxyCode}
\Hypertarget{class_sprite_animator_a8039ef8f1a6974c9edb591656a328454}\index{SpriteAnimator@{SpriteAnimator}!IsClipFinished@{IsClipFinished}}
\index{IsClipFinished@{IsClipFinished}!SpriteAnimator@{SpriteAnimator}}
\doxysubsubsection{\texorpdfstring{IsClipFinished()}{IsClipFinished()}}
{\footnotesize\ttfamily \label{class_sprite_animator_a8039ef8f1a6974c9edb591656a328454} 
bool Sprite\+Animator\+::\+Is\+Clip\+Finished (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [nodiscard]}}



Returns whether the current non-\/looping animation has finished. 

This flag is expected to be updated by \doxylink{class_sprite_animator_a23f9880b2fdbbd23fe48f25526cafb07}{Update()} when the playback reaches the end and looping is disabled. 

Definition at line \mbox{\hyperlink{_animation_8h_source_l00257}{257}} of file \mbox{\hyperlink{_animation_8h_source}{Animation.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00257\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_sprite_animator_a401e9176bb78855cf879768843e033f4}{isClipFinished}};\ \}}

\end{DoxyCode}
\Hypertarget{class_sprite_animator_aac8752dcb1e73427d97e4f3126ec841a}\index{SpriteAnimator@{SpriteAnimator}!PlayClip@{PlayClip}}
\index{PlayClip@{PlayClip}!SpriteAnimator@{SpriteAnimator}}
\doxysubsubsection{\texorpdfstring{PlayClip()}{PlayClip()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{class_sprite_animator_aac8752dcb1e73427d97e4f3126ec841a} 
void Sprite\+Animator\+::\+Play\+Clip (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{clip\+Name}{}\end{DoxyParamCaption})}



Plays a named animation clip from the bound \doxylink{class_sprite_sheet}{Sprite\+Sheet}. 

This function looks up the clip using \doxylink{class_sprite_sheet_aaa4e33b8d39dc2f9b714a1d4152e5271}{Sprite\+Sheet\+::\+Get\+Clip} and, if found, switches the animator into named-\/clip playback mode.


\begin{DoxyParams}{Parameters}
{\em clip\+Name} & Name of the clip previously registered in \doxylink{class_sprite_sheet}{Sprite\+Sheet}. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_animation_8cpp_source_l00072}{72}} of file \mbox{\hyperlink{_animation_8cpp_source}{Animation.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00073\ \{}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{class_sprite_animator_ac69e0d3cdfccaaf0952a68cc67501ed7}{sheet}})}
\DoxyCodeLine{00075\ \ \ \ \ \{}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ JIN\_ERR(\textcolor{stringliteral}{"{}Can't\ play\ clip:\ Sprite\ sheet\ is\ nullptr"{}});}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00078\ \ \ \ \ \}}
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}*\ clip\ =\ \mbox{\hyperlink{class_sprite_animator_ac69e0d3cdfccaaf0952a68cc67501ed7}{sheet}}-\/>GetClip(clipName);}
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keywordflow}{if}\ (!clip\ ||\ clip-\/>frameIndices.empty())}
\DoxyCodeLine{00081\ \ \ \ \ \{}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ JIN\_WRN(\textcolor{stringliteral}{"{}Can't\ play\ clip:\ There\ is\ no\ clip\ named\ \(\backslash\)"{}"{}}\ <<clipName<<\ \textcolor{stringliteral}{"{}\(\backslash\)"{}."{}});}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00084\ \ \ \ \ \}}
\DoxyCodeLine{00085\ \ \ \ \ \mbox{\hyperlink{class_sprite_animator_a3b0b375da67fba82d5767da746200ba2}{playingClip}}\ =\ clip;}
\DoxyCodeLine{00086\ \ \ \ \ \mbox{\hyperlink{class_sprite_animator_ae4b7c71c1e14cb5fb6b430ed58ae5bfd}{clipFrameIndex}}\ =\ 0;}
\DoxyCodeLine{00087\ \ \ \ \ \mbox{\hyperlink{class_sprite_animator_abc34368dd943697e8657a68c554329fe}{elapsed}}\ =\ 0.0f;}
\DoxyCodeLine{00088\ \ \ \ \ \mbox{\hyperlink{class_sprite_animator_add19e00a74d70def2375d6fa40605b8e}{currentFrame}}\ =\ clip-\/>frameIndices[\mbox{\hyperlink{class_sprite_animator_ae4b7c71c1e14cb5fb6b430ed58ae5bfd}{clipFrameIndex}}];}
\DoxyCodeLine{00089\ \ \ \ \ \mbox{\hyperlink{class_sprite_animator_a401e9176bb78855cf879768843e033f4}{isClipFinished}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00090\ \}}

\end{DoxyCode}
\Hypertarget{class_sprite_animator_af2935db4720fc2387d34796559412404}\index{SpriteAnimator@{SpriteAnimator}!PlayClip@{PlayClip}}
\index{PlayClip@{PlayClip}!SpriteAnimator@{SpriteAnimator}}
\doxysubsubsection{\texorpdfstring{PlayClip()}{PlayClip()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{class_sprite_animator_af2935db4720fc2387d34796559412404} 
void Sprite\+Animator\+::\+Play\+Clip (\begin{DoxyParamCaption}\item[{int}]{start}{, }\item[{int}]{end}{, }\item[{bool}]{loop\+\_\+}{ = {\ttfamily true}}\end{DoxyParamCaption})}



Plays a frame range animation \mbox{[}start, end\mbox{]}. 

This configures range-\/based playback and clears any named clip playback state.


\begin{DoxyParams}{Parameters}
{\em start} & Start frame index (inclusive). \\
\hline
{\em end} & End frame index (inclusive). \\
\hline
{\em loop\+\_\+} & Whether to loop when reaching the end. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_animation_8cpp_source_l00062}{62}} of file \mbox{\hyperlink{_animation_8cpp_source}{Animation.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00063\ \{}
\DoxyCodeLine{00064\ \ \ \ \ \mbox{\hyperlink{class_sprite_animator_a3b0b375da67fba82d5767da746200ba2}{playingClip}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00065\ \ \ \ \ this-\/>\mbox{\hyperlink{class_sprite_animator_af0127d4a6d5804580ed0bdc749e48fe6}{startFrame}}\ =\ start;}
\DoxyCodeLine{00066\ \ \ \ \ this-\/>\mbox{\hyperlink{class_sprite_animator_ac7766936f67b1e7bd0d031d3d53c087c}{endFrame}}\ =\ end;}
\DoxyCodeLine{00067\ \ \ \ \ this-\/>\mbox{\hyperlink{class_sprite_animator_a0de89a6edb4094e019640ee24e21d626}{loop}}\ =\ loop\_;}
\DoxyCodeLine{00068\ \ \ \ \ \mbox{\hyperlink{class_sprite_animator_add19e00a74d70def2375d6fa40605b8e}{currentFrame}}\ =\ start;}
\DoxyCodeLine{00069\ \ \ \ \ \mbox{\hyperlink{class_sprite_animator_abc34368dd943697e8657a68c554329fe}{elapsed}}\ =\ 0.0f;}
\DoxyCodeLine{00070\ \ \ \ \ \mbox{\hyperlink{class_sprite_animator_a401e9176bb78855cf879768843e033f4}{isClipFinished}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00071\ \}}

\end{DoxyCode}
\Hypertarget{class_sprite_animator_ac1f67603f393000a573dff1308e1245f}\index{SpriteAnimator@{SpriteAnimator}!SetFrame@{SetFrame}}
\index{SetFrame@{SetFrame}!SpriteAnimator@{SpriteAnimator}}
\doxysubsubsection{\texorpdfstring{SetFrame()}{SetFrame()}}
{\footnotesize\ttfamily \label{class_sprite_animator_ac1f67603f393000a573dff1308e1245f} 
void Sprite\+Animator\+::\+Set\+Frame (\begin{DoxyParamCaption}\item[{int}]{frame}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Forces the current frame index. 


\begin{DoxyParams}{Parameters}
{\em frame} & New current frame index. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_animation_8h_source_l00238}{238}} of file \mbox{\hyperlink{_animation_8h_source}{Animation.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00238\ \{\ \mbox{\hyperlink{class_sprite_animator_add19e00a74d70def2375d6fa40605b8e}{currentFrame}}\ =\ frame;\ \}}

\end{DoxyCode}
\Hypertarget{class_sprite_animator_a23f9880b2fdbbd23fe48f25526cafb07}\index{SpriteAnimator@{SpriteAnimator}!Update@{Update}}
\index{Update@{Update}!SpriteAnimator@{SpriteAnimator}}
\doxysubsubsection{\texorpdfstring{Update()}{Update()}}
{\footnotesize\ttfamily \label{class_sprite_animator_a23f9880b2fdbbd23fe48f25526cafb07} 
void Sprite\+Animator\+::\+Update (\begin{DoxyParamCaption}\item[{float}]{dt}{}\end{DoxyParamCaption})}



Advances the animation state by delta time. 

Accumulates elapsed time and advances frames when enough time has passed. When looping is disabled and the animation reaches the end, \doxylink{class_sprite_animator_a8039ef8f1a6974c9edb591656a328454}{Is\+Clip\+Finished()} can be used to detect completion.


\begin{DoxyParams}{Parameters}
{\em dt} & Delta time in seconds. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_animation_8cpp_source_l00092}{92}} of file \mbox{\hyperlink{_animation_8cpp_source}{Animation.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00093\ \{}
\DoxyCodeLine{00094\ \ \ \ \ \mbox{\hyperlink{class_sprite_animator_abc34368dd943697e8657a68c554329fe}{elapsed}}\ +=\ dt;}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_sprite_animator_a3b0b375da67fba82d5767da746200ba2}{playingClip}})}
\DoxyCodeLine{00097\ \ \ \ \ \{}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ dur\ =\ \mbox{\hyperlink{class_sprite_animator_a3b0b375da67fba82d5767da746200ba2}{playingClip}}-\/>frameDuration\ >\ 0.f\ ?\ \mbox{\hyperlink{class_sprite_animator_a3b0b375da67fba82d5767da746200ba2}{playingClip}}-\/>frameDuration\ :\ 0.0001f;}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{class_sprite_animator_abc34368dd943697e8657a68c554329fe}{elapsed}}\ >=\ dur)}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_sprite_animator_abc34368dd943697e8657a68c554329fe}{elapsed}}\ -\/=\ dur;}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ ++\mbox{\hyperlink{class_sprite_animator_ae4b7c71c1e14cb5fb6b430ed58ae5bfd}{clipFrameIndex}};}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_sprite_animator_ae4b7c71c1e14cb5fb6b430ed58ae5bfd}{clipFrameIndex}}\ >=\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{class_sprite_animator_a3b0b375da67fba82d5767da746200ba2}{playingClip}}-\/>frameIndices.size()))}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_sprite_animator_a3b0b375da67fba82d5767da746200ba2}{playingClip}}-\/>looping)}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_sprite_animator_ae4b7c71c1e14cb5fb6b430ed58ae5bfd}{clipFrameIndex}}\ =\ 0;}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_sprite_animator_a401e9176bb78855cf879768843e033f4}{isClipFinished}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_sprite_animator_ae4b7c71c1e14cb5fb6b430ed58ae5bfd}{clipFrameIndex}}\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{class_sprite_animator_a3b0b375da67fba82d5767da746200ba2}{playingClip}}-\/>frameIndices.size())\ -\/\ 1;}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_sprite_animator_add19e00a74d70def2375d6fa40605b8e}{currentFrame}}\ =\ \mbox{\hyperlink{class_sprite_animator_a3b0b375da67fba82d5767da746200ba2}{playingClip}}-\/>frameIndices[\mbox{\hyperlink{class_sprite_animator_ae4b7c71c1e14cb5fb6b430ed58ae5bfd}{clipFrameIndex}}];}
\DoxyCodeLine{00120\ \ \ \ \ \}}
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00122\ \ \ \ \ \{}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ dur\ =\ \mbox{\hyperlink{class_sprite_animator_ad6c488dd70434014d2d203482e188a93}{frameTime}}\ >\ 0.f\ ?\ \mbox{\hyperlink{class_sprite_animator_ad6c488dd70434014d2d203482e188a93}{frameTime}}\ :\ 0.0001f;}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{class_sprite_animator_abc34368dd943697e8657a68c554329fe}{elapsed}}\ >=\ dur)}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_sprite_animator_abc34368dd943697e8657a68c554329fe}{elapsed}}\ -\/=\ dur;}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \ \ \ \ ++\mbox{\hyperlink{class_sprite_animator_add19e00a74d70def2375d6fa40605b8e}{currentFrame}};}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_sprite_animator_add19e00a74d70def2375d6fa40605b8e}{currentFrame}}\ >\ \mbox{\hyperlink{class_sprite_animator_ac7766936f67b1e7bd0d031d3d53c087c}{endFrame}})}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_sprite_animator_a0de89a6edb4094e019640ee24e21d626}{loop}})}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_sprite_animator_add19e00a74d70def2375d6fa40605b8e}{currentFrame}}\ =\ \mbox{\hyperlink{class_sprite_animator_af0127d4a6d5804580ed0bdc749e48fe6}{startFrame}};}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_sprite_animator_a401e9176bb78855cf879768843e033f4}{isClipFinished}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_sprite_animator_add19e00a74d70def2375d6fa40605b8e}{currentFrame}}\ =\ \mbox{\hyperlink{class_sprite_animator_ac7766936f67b1e7bd0d031d3d53c087c}{endFrame}};}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00143\ \ \ \ \ \}}
\DoxyCodeLine{00144\ \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\Hypertarget{class_sprite_animator_ae4b7c71c1e14cb5fb6b430ed58ae5bfd}\index{SpriteAnimator@{SpriteAnimator}!clipFrameIndex@{clipFrameIndex}}
\index{clipFrameIndex@{clipFrameIndex}!SpriteAnimator@{SpriteAnimator}}
\doxysubsubsection{\texorpdfstring{clipFrameIndex}{clipFrameIndex}}
{\footnotesize\ttfamily \label{class_sprite_animator_ae4b7c71c1e14cb5fb6b430ed58ae5bfd} 
int Sprite\+Animator\+::clip\+Frame\+Index = 0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{_animation_8h_source_l00267}{267}} of file \mbox{\hyperlink{_animation_8h_source}{Animation.\+h}}.

\Hypertarget{class_sprite_animator_add19e00a74d70def2375d6fa40605b8e}\index{SpriteAnimator@{SpriteAnimator}!currentFrame@{currentFrame}}
\index{currentFrame@{currentFrame}!SpriteAnimator@{SpriteAnimator}}
\doxysubsubsection{\texorpdfstring{currentFrame}{currentFrame}}
{\footnotesize\ttfamily \label{class_sprite_animator_add19e00a74d70def2375d6fa40605b8e} 
int Sprite\+Animator\+::current\+Frame = 0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{_animation_8h_source_l00262}{262}} of file \mbox{\hyperlink{_animation_8h_source}{Animation.\+h}}.

\Hypertarget{class_sprite_animator_abc34368dd943697e8657a68c554329fe}\index{SpriteAnimator@{SpriteAnimator}!elapsed@{elapsed}}
\index{elapsed@{elapsed}!SpriteAnimator@{SpriteAnimator}}
\doxysubsubsection{\texorpdfstring{elapsed}{elapsed}}
{\footnotesize\ttfamily \label{class_sprite_animator_abc34368dd943697e8657a68c554329fe} 
float Sprite\+Animator\+::elapsed = 0.\+0f\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{_animation_8h_source_l00261}{261}} of file \mbox{\hyperlink{_animation_8h_source}{Animation.\+h}}.

\Hypertarget{class_sprite_animator_ac7766936f67b1e7bd0d031d3d53c087c}\index{SpriteAnimator@{SpriteAnimator}!endFrame@{endFrame}}
\index{endFrame@{endFrame}!SpriteAnimator@{SpriteAnimator}}
\doxysubsubsection{\texorpdfstring{endFrame}{endFrame}}
{\footnotesize\ttfamily \label{class_sprite_animator_ac7766936f67b1e7bd0d031d3d53c087c} 
int Sprite\+Animator\+::end\+Frame = 0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{_animation_8h_source_l00264}{264}} of file \mbox{\hyperlink{_animation_8h_source}{Animation.\+h}}.

\Hypertarget{class_sprite_animator_ad6c488dd70434014d2d203482e188a93}\index{SpriteAnimator@{SpriteAnimator}!frameTime@{frameTime}}
\index{frameTime@{frameTime}!SpriteAnimator@{SpriteAnimator}}
\doxysubsubsection{\texorpdfstring{frameTime}{frameTime}}
{\footnotesize\ttfamily \label{class_sprite_animator_ad6c488dd70434014d2d203482e188a93} 
float Sprite\+Animator\+::frame\+Time\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{_animation_8h_source_l00260}{260}} of file \mbox{\hyperlink{_animation_8h_source}{Animation.\+h}}.

\Hypertarget{class_sprite_animator_a401e9176bb78855cf879768843e033f4}\index{SpriteAnimator@{SpriteAnimator}!isClipFinished@{isClipFinished}}
\index{isClipFinished@{isClipFinished}!SpriteAnimator@{SpriteAnimator}}
\doxysubsubsection{\texorpdfstring{isClipFinished}{isClipFinished}}
{\footnotesize\ttfamily \label{class_sprite_animator_a401e9176bb78855cf879768843e033f4} 
bool Sprite\+Animator\+::is\+Clip\+Finished\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{_animation_8h_source_l00268}{268}} of file \mbox{\hyperlink{_animation_8h_source}{Animation.\+h}}.

\Hypertarget{class_sprite_animator_a0de89a6edb4094e019640ee24e21d626}\index{SpriteAnimator@{SpriteAnimator}!loop@{loop}}
\index{loop@{loop}!SpriteAnimator@{SpriteAnimator}}
\doxysubsubsection{\texorpdfstring{loop}{loop}}
{\footnotesize\ttfamily \label{class_sprite_animator_a0de89a6edb4094e019640ee24e21d626} 
bool Sprite\+Animator\+::loop = true\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{_animation_8h_source_l00265}{265}} of file \mbox{\hyperlink{_animation_8h_source}{Animation.\+h}}.

\Hypertarget{class_sprite_animator_a3b0b375da67fba82d5767da746200ba2}\index{SpriteAnimator@{SpriteAnimator}!playingClip@{playingClip}}
\index{playingClip@{playingClip}!SpriteAnimator@{SpriteAnimator}}
\doxysubsubsection{\texorpdfstring{playingClip}{playingClip}}
{\footnotesize\ttfamily \label{class_sprite_animator_a3b0b375da67fba82d5767da746200ba2} 
const \mbox{\hyperlink{struct_sprite_clip}{Sprite\+Clip}}\texorpdfstring{$\ast$}{*} Sprite\+Animator\+::playing\+Clip = nullptr\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{_animation_8h_source_l00266}{266}} of file \mbox{\hyperlink{_animation_8h_source}{Animation.\+h}}.

\Hypertarget{class_sprite_animator_ac69e0d3cdfccaaf0952a68cc67501ed7}\index{SpriteAnimator@{SpriteAnimator}!sheet@{sheet}}
\index{sheet@{sheet}!SpriteAnimator@{SpriteAnimator}}
\doxysubsubsection{\texorpdfstring{sheet}{sheet}}
{\footnotesize\ttfamily \label{class_sprite_animator_ac69e0d3cdfccaaf0952a68cc67501ed7} 
\mbox{\hyperlink{class_sprite_sheet}{Sprite\+Sheet}}\texorpdfstring{$\ast$}{*} Sprite\+Animator\+::sheet\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{_animation_8h_source_l00259}{259}} of file \mbox{\hyperlink{_animation_8h_source}{Animation.\+h}}.

\Hypertarget{class_sprite_animator_af0127d4a6d5804580ed0bdc749e48fe6}\index{SpriteAnimator@{SpriteAnimator}!startFrame@{startFrame}}
\index{startFrame@{startFrame}!SpriteAnimator@{SpriteAnimator}}
\doxysubsubsection{\texorpdfstring{startFrame}{startFrame}}
{\footnotesize\ttfamily \label{class_sprite_animator_af0127d4a6d5804580ed0bdc749e48fe6} 
int Sprite\+Animator\+::start\+Frame = 0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{_animation_8h_source_l00263}{263}} of file \mbox{\hyperlink{_animation_8h_source}{Animation.\+h}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Project/\+Jin\+Engine/\+Public/\mbox{\hyperlink{_animation_8h}{Animation.\+h}}\item 
Project/\+Jin\+Engine/\+Private/\mbox{\hyperlink{_animation_8cpp}{Animation.\+cpp}}\end{DoxyCompactItemize}
