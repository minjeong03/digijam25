\doxysection{Material Class Reference}
\hypertarget{class_material}{}\label{class_material}\index{Material@{Material}}


Render-\/time binding object that combines a \doxylink{class_shader}{Shader} with textures and uniform parameters.  




{\ttfamily \#include $<$Material.\+h$>$}

Inheritance diagram for Material\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_material}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_material_a60bb6242b4556b0823fd96bd5bf7436a}{Material}} (\mbox{\hyperlink{class_shader}{Shader}} \texorpdfstring{$\ast$}{*}\+\_\+shader)
\begin{DoxyCompactList}\small\item\em Constructs a material using a specific shader. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{class_material_a255ba20d0325e6b78ff68ac739df40de}{\texorpdfstring{$\sim$}{\string~}\+Material}} ()=default
\begin{DoxyCompactList}\small\item\em Virtual destructor for polymorphic cleanup. \end{DoxyCompactList}\item 
virtual bool \mbox{\hyperlink{class_material_aaf5018873649fa4149f4780fa1d4145d}{Is\+Compute}} () const
\begin{DoxyCompactList}\small\item\em Indicates whether this material is intended for compute dispatch. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_material_af587d5938f543479d1d2955cb4da1f48}{Set\+Texture}} (const std\+::string \&uniform\+Name, \mbox{\hyperlink{class_texture}{Texture}} \texorpdfstring{$\ast$}{*}texture)
\begin{DoxyCompactList}\small\item\em Binds a texture to a sampler uniform name. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_material_a6c49cb3082a29e0d412577dad3cfde5f}{Set\+Uniform}} (const std\+::string \&name, \mbox{\hyperlink{_material_8h_a06229a425f27fcb99ce02ae045b56e0d}{Uniform\+Value}} value)
\begin{DoxyCompactList}\small\item\em Sets a typed uniform value to be sent during binding. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_material_a7a9c710b2d7a286c1349315b6fd6ab7a}{Is\+Instancing\+Supported}} () const
\begin{DoxyCompactList}\small\item\em Returns whether instanced rendering is supported for this material. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_material_ae790a5b6e8836e871f6e01f4431350dd}{Enable\+Instancing}} (bool enable, \mbox{\hyperlink{class_mesh}{Mesh}} \texorpdfstring{$\ast$}{*}mesh)
\begin{DoxyCompactList}\small\item\em Enables or disables instancing for this material and prepares the mesh for instanced draws. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_material_a1fd6c6c16d1f04e747470a2cc0c52fa1}{Bind}} () const
\begin{DoxyCompactList}\small\item\em Binds this material for rendering. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_material_abe3526386e44d6a10fec0e6859dd564a}{Un\+Bind}} () const
\begin{DoxyCompactList}\small\item\em Unbinds this material after rendering. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_material_ae4ad039257d5695090655fbd89ef179b}{Send\+Data}} ()
\begin{DoxyCompactList}\small\item\em Sends material-\/specific data beyond the standard textures and uniforms. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_material_a39001e95de2408283f42efa7e8657a05}{Send\+Uniforms}} ()
\begin{DoxyCompactList}\small\item\em Sends all typed uniform values stored in the uniform table to the shader. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_shader}{Shader}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_material_abaac6082ee6cf042b2d4da4f6e6fe403}{shader}}
\item 
std\+::unordered\+\_\+map$<$ std\+::string, \mbox{\hyperlink{_material_8h_a06229a425f27fcb99ce02ae045b56e0d}{Uniform\+Value}} $>$ \mbox{\hyperlink{class_material_ac18d1c428804aef46a8ec751989e0677}{uniforms}}
\item 
bool \mbox{\hyperlink{class_material_a88e57329587a1d1d2852d926890e2c4f}{is\+Instancing\+Enabled}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_material_aa3a56da50b75b341743552348b587611}{Send\+Textures}} ()
\begin{DoxyCompactList}\small\item\em Binds all textures stored in the texture table to texture units and assigns sampler uniforms. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_material_a6ffdffe60d4298c93aa14f0913c5b3cb}{Has\+Texture}} () const
\begin{DoxyCompactList}\small\item\em Returns whether this material has at least one texture binding. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_material_a7af8f16fc44c4a9dbf02d598b17597ae}{Has\+Texture}} (\mbox{\hyperlink{class_texture}{Texture}} \texorpdfstring{$\ast$}{*}texture) const
\begin{DoxyCompactList}\small\item\em Checks whether the provided texture pointer is currently bound by this material. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_material_a6324af47ca232b9af228180e11705588}{Has\+Shader}} (\mbox{\hyperlink{class_shader}{Shader}} \texorpdfstring{$\ast$}{*}shader\+\_\+) const
\begin{DoxyCompactList}\small\item\em Checks whether this material uses the given shader pointer. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_shader}{Shader}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_material_a7b5cb52b3d21fc071a614b6051e816f7}{Get\+Shader}} () const
\begin{DoxyCompactList}\small\item\em Returns the shader used by this material. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
friend \mbox{\hyperlink{class_material_ac45dc348bf7022593d789b6bf7b407cb}{Render\+Manager}}
\item 
std\+::unordered\+\_\+map$<$ std\+::string, \mbox{\hyperlink{class_texture}{Texture}} \texorpdfstring{$\ast$}{*} $>$ \mbox{\hyperlink{class_material_a73c44b66bc920571726bfd6dbdeeec26}{textures}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Render-\/time binding object that combines a \doxylink{class_shader}{Shader} with textures and uniform parameters. 

\doxylink{class_material}{Material} acts as a lightweight state bundle that \doxylink{class_render_manager}{Render\+Manager} uses to drive drawing\+:
\begin{DoxyItemize}
\item shader\+: the GPU program used for the draw.
\item textures\+: a mapping of uniform sampler names to Texture\texorpdfstring{$\ast$}{*} pointers.
\item uniforms\+: a mapping of uniform names to typed values (\doxylink{_material_8h_a06229a425f27fcb99ce02ae045b56e0d}{Uniform\+Value}).
\end{DoxyItemize}

Ownership model\+:
\begin{DoxyItemize}
\item \doxylink{class_material}{Material} does not own Shader/\+Texture/\+Mesh. It only stores raw pointers that must remain valid.
\item \doxylink{class_render_manager}{Render\+Manager} typically owns the registered Shaders/\+Textures/\+Materials and ensures lifetime safety.
\end{DoxyItemize}

Binding workflow\+:
\begin{DoxyItemize}
\item \doxylink{class_material_a1fd6c6c16d1f04e747470a2cc0c52fa1}{Bind()} activates the \doxylink{class_shader}{Shader} (Use) and sends all textures/uniforms required for the draw.
\item \doxylink{class_material_abe3526386e44d6a10fec0e6859dd564a}{Un\+Bind()} deactivates the \doxylink{class_shader}{Shader} (Unuse) and unbinds texture units if needed.
\end{DoxyItemize}

Instancing\+:
\begin{DoxyItemize}
\item \doxylink{class_material_a7a9c710b2d7a286c1349315b6fd6ab7a}{Is\+Instancing\+Supported()} checks whether the underlying \doxylink{class_shader}{Shader} is compatible with the engine\textquotesingle{}s instancing path.
\item Enable\+Instancing(enable, mesh) toggles the instancing flag and may configure the Mesh-\/side instance attributes.
\end{DoxyItemize}

Compute\+:
\begin{DoxyItemize}
\item \doxylink{class_material_aaf5018873649fa4149f4780fa1d4145d}{Is\+Compute()} identifies whether a \doxylink{class_material}{Material} is a compute dispatch material. Regular materials return false.
\item \doxylink{class_compute_material}{Compute\+Material} overrides \doxylink{class_material_aaf5018873649fa4149f4780fa1d4145d}{Is\+Compute()} and \doxylink{class_material_ae4ad039257d5695090655fbd89ef179b}{Send\+Data()} and uses image bindings instead of sampler textures. 
\end{DoxyItemize}

Definition at line \mbox{\hyperlink{_material_8h_source_l00060}{60}} of file \mbox{\hyperlink{_material_8h_source}{Material.\+h}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_material_a60bb6242b4556b0823fd96bd5bf7436a}\index{Material@{Material}!Material@{Material}}
\index{Material@{Material}!Material@{Material}}
\doxysubsubsection{\texorpdfstring{Material()}{Material()}}
{\footnotesize\ttfamily \label{class_material_a60bb6242b4556b0823fd96bd5bf7436a} 
Material\+::\+Material (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_shader}{Shader}} \texorpdfstring{$\ast$}{*}}]{\+\_\+shader}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Constructs a material using a specific shader. 

Instancing is disabled by default. Textures and uniforms can be assigned after construction.


\begin{DoxyParams}{Parameters}
{\em \+\_\+shader} & \doxylink{class_shader}{Shader} program to be used for this material. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_material_8h_source_l00072}{72}} of file \mbox{\hyperlink{_material_8h_source}{Material.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00072\ :\ \mbox{\hyperlink{class_material_abaac6082ee6cf042b2d4da4f6e6fe403}{shader}}(\_shader),\ \mbox{\hyperlink{class_material_a88e57329587a1d1d2852d926890e2c4f}{isInstancingEnabled}}(\textcolor{keyword}{false})\ \{\}}

\end{DoxyCode}
\Hypertarget{class_material_a255ba20d0325e6b78ff68ac739df40de}\index{Material@{Material}!````~Material@{\texorpdfstring{$\sim$}{\string~}Material}}
\index{````~Material@{\texorpdfstring{$\sim$}{\string~}Material}!Material@{Material}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}Material()}{\string~Material()}}
{\footnotesize\ttfamily \label{class_material_a255ba20d0325e6b78ff68ac739df40de} 
virtual Material\+::\texorpdfstring{$\sim$}{\string~}\+Material (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}, {\ttfamily [default]}}



Virtual destructor for polymorphic cleanup. 



\doxysubsection{Member Function Documentation}
\Hypertarget{class_material_a1fd6c6c16d1f04e747470a2cc0c52fa1}\index{Material@{Material}!Bind@{Bind}}
\index{Bind@{Bind}!Material@{Material}}
\doxysubsubsection{\texorpdfstring{Bind()}{Bind()}}
{\footnotesize\ttfamily \label{class_material_a1fd6c6c16d1f04e747470a2cc0c52fa1} 
void Material\+::\+Bind (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}}



Binds this material for rendering. 

Expected responsibilities\+:
\begin{DoxyItemize}
\item Activates the shader program.
\item Sends textures (\doxylink{class_material_aa3a56da50b75b341743552348b587611}{Send\+Textures()}).
\item Sends uniform values (\doxylink{class_material_a39001e95de2408283f42efa7e8657a05}{Send\+Uniforms()}).
\item Calls \doxylink{class_material_ae4ad039257d5695090655fbd89ef179b}{Send\+Data()} for subclasses to push additional data.
\end{DoxyItemize}

This is intended to be called by \doxylink{class_render_manager}{Render\+Manager} immediately before drawing. 

Definition at line \mbox{\hyperlink{_material_8cpp_source_l00005}{5}} of file \mbox{\hyperlink{_material_8cpp_source}{Material.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00006\ \{}
\DoxyCodeLine{00007\ \ \ \ \ \mbox{\hyperlink{class_material_abaac6082ee6cf042b2d4da4f6e6fe403}{shader}}-\/>Use();}
\DoxyCodeLine{00008\ \}}

\end{DoxyCode}
\Hypertarget{class_material_ae790a5b6e8836e871f6e01f4431350dd}\index{Material@{Material}!EnableInstancing@{EnableInstancing}}
\index{EnableInstancing@{EnableInstancing}!Material@{Material}}
\doxysubsubsection{\texorpdfstring{EnableInstancing()}{EnableInstancing()}}
{\footnotesize\ttfamily \label{class_material_ae790a5b6e8836e871f6e01f4431350dd} 
void Material\+::\+Enable\+Instancing (\begin{DoxyParamCaption}\item[{bool}]{enable}{, }\item[{\mbox{\hyperlink{class_mesh}{Mesh}} \texorpdfstring{$\ast$}{*}}]{mesh}{}\end{DoxyParamCaption})}



Enables or disables instancing for this material and prepares the mesh for instanced draws. 

When enabling instancing, the engine may require Mesh-\/side instance attribute setup so that per-\/instance data (model/color/uv) can be streamed and used by the shader.

Disabling instancing only toggles the material flag; \doxylink{class_render_manager}{Render\+Manager} will then use non-\/instanced draws.


\begin{DoxyParams}{Parameters}
{\em enable} & True to enable instancing; false to disable. \\
\hline
{\em mesh} & \doxylink{class_mesh}{Mesh} that will be used for instanced draws (used to set up instance attributes). \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_material_8cpp_source_l00032}{32}} of file \mbox{\hyperlink{_material_8cpp_source}{Material.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00033\ \{}
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{keywordflow}{if}\ (!mesh)}
\DoxyCodeLine{00035\ \ \ \ \ \{}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ JIN\_WRN(\textcolor{stringliteral}{"{}Enable\ Instancing\ skipped:\ Mesh\ is\ nullptr"{}});}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00038\ \ \ \ \ \}}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{class_material_abaac6082ee6cf042b2d4da4f6e6fe403}{shader}})}
\DoxyCodeLine{00040\ \ \ \ \ \{}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ JIN\_WRN(\textcolor{stringliteral}{"{}Enable\ Instancing\ skipped:\ Shader\ is\ nullptr"{}});}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00043\ \ \ \ \ \}}
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{class_material_abaac6082ee6cf042b2d4da4f6e6fe403}{shader}}-\/>SupportsInstancing())}
\DoxyCodeLine{00045\ \ \ \ \ \{}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ JIN\_WRN(\textcolor{stringliteral}{"{}Enable\ Instancing\ skipped:\ Tried\ enable\ instancing,\ but\ shader\ does\ not\ support\ 'i\_Model'."{}});}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00048\ \ \ \ \ \}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \ \ \mbox{\hyperlink{class_material_a88e57329587a1d1d2852d926890e2c4f}{isInstancingEnabled}}\ =\ enable;}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordflow}{if}\ (mesh\ \&\&\ \mbox{\hyperlink{class_material_a88e57329587a1d1d2852d926890e2c4f}{isInstancingEnabled}})}
\DoxyCodeLine{00053\ \ \ \ \ \{}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ mesh-\/>\mbox{\hyperlink{class_mesh_a66fa02b2a66182031bb00a9aec134526}{SetupInstanceAttributes}}();}
\DoxyCodeLine{00055\ \ \ \ \ \}}
\DoxyCodeLine{00056\ \}}

\end{DoxyCode}
\Hypertarget{class_material_a7b5cb52b3d21fc071a614b6051e816f7}\index{Material@{Material}!GetShader@{GetShader}}
\index{GetShader@{GetShader}!Material@{Material}}
\doxysubsubsection{\texorpdfstring{GetShader()}{GetShader()}}
{\footnotesize\ttfamily \label{class_material_a7b5cb52b3d21fc071a614b6051e816f7} 
\mbox{\hyperlink{class_shader}{Shader}} \texorpdfstring{$\ast$}{*} Material\+::\+Get\+Shader (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [nodiscard]}, {\ttfamily [private]}}



Returns the shader used by this material. 

This is a low-\/level helper for \doxylink{class_render_manager}{Render\+Manager} to read the active shader during batching and binding. 

Definition at line \mbox{\hyperlink{_material_8h_source_l00234}{234}} of file \mbox{\hyperlink{_material_8h_source}{Material.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00234\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_material_abaac6082ee6cf042b2d4da4f6e6fe403}{shader}};\ \}}

\end{DoxyCode}
\Hypertarget{class_material_a6324af47ca232b9af228180e11705588}\index{Material@{Material}!HasShader@{HasShader}}
\index{HasShader@{HasShader}!Material@{Material}}
\doxysubsubsection{\texorpdfstring{HasShader()}{HasShader()}}
{\footnotesize\ttfamily \label{class_material_a6324af47ca232b9af228180e11705588} 
bool Material\+::\+Has\+Shader (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_shader}{Shader}} \texorpdfstring{$\ast$}{*}}]{shader\+\_\+}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [nodiscard]}, {\ttfamily [private]}}



Checks whether this material uses the given shader pointer. 


\begin{DoxyParams}{Parameters}
{\em shader\+\_\+} & \doxylink{class_shader}{Shader} pointer to test. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if shader\+\_\+ matches this material\textquotesingle{}s shader. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_material_8cpp_source_l00093}{93}} of file \mbox{\hyperlink{_material_8cpp_source}{Material.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00094\ \{}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_material_abaac6082ee6cf042b2d4da4f6e6fe403}{shader}}\ ==\ shader\_;}
\DoxyCodeLine{00096\ \}}

\end{DoxyCode}
\Hypertarget{class_material_a6ffdffe60d4298c93aa14f0913c5b3cb}\index{Material@{Material}!HasTexture@{HasTexture}}
\index{HasTexture@{HasTexture}!Material@{Material}}
\doxysubsubsection{\texorpdfstring{HasTexture()}{HasTexture()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{class_material_a6ffdffe60d4298c93aa14f0913c5b3cb} 
bool Material\+::\+Has\+Texture (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [nodiscard]}, {\ttfamily [private]}}



Returns whether this material has at least one texture binding. 



Definition at line \mbox{\hyperlink{_material_8h_source_l00210}{210}} of file \mbox{\hyperlink{_material_8h_source}{Material.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00210\ \{\ \textcolor{keywordflow}{return}\ !\mbox{\hyperlink{class_material_a73c44b66bc920571726bfd6dbdeeec26}{textures}}.empty();\ \}}

\end{DoxyCode}
\Hypertarget{class_material_a7af8f16fc44c4a9dbf02d598b17597ae}\index{Material@{Material}!HasTexture@{HasTexture}}
\index{HasTexture@{HasTexture}!Material@{Material}}
\doxysubsubsection{\texorpdfstring{HasTexture()}{HasTexture()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{class_material_a7af8f16fc44c4a9dbf02d598b17597ae} 
bool Material\+::\+Has\+Texture (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_texture}{Texture}} \texorpdfstring{$\ast$}{*}}]{texture}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [nodiscard]}, {\ttfamily [private]}}



Checks whether the provided texture pointer is currently bound by this material. 


\begin{DoxyParams}{Parameters}
{\em texture} & \doxylink{class_texture}{Texture} pointer to test. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if any binding references the texture. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_material_8cpp_source_l00081}{81}} of file \mbox{\hyperlink{_material_8cpp_source}{Material.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00082\ \{}
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ pair\ :\ \mbox{\hyperlink{class_material_a73c44b66bc920571726bfd6dbdeeec26}{textures}})}
\DoxyCodeLine{00084\ \ \ \ \ \{}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pair.second\ ==\ texture)}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00089\ \ \ \ \ \}}
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00091\ \}}

\end{DoxyCode}
\Hypertarget{class_material_aaf5018873649fa4149f4780fa1d4145d}\index{Material@{Material}!IsCompute@{IsCompute}}
\index{IsCompute@{IsCompute}!Material@{Material}}
\doxysubsubsection{\texorpdfstring{IsCompute()}{IsCompute()}}
{\footnotesize\ttfamily \label{class_material_aaf5018873649fa4149f4780fa1d4145d} 
virtual bool Material\+::\+Is\+Compute (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Indicates whether this material is intended for compute dispatch. 

Regular materials return false. \doxylink{class_compute_material}{Compute\+Material} overrides this to return true. 

Reimplemented in \mbox{\hyperlink{class_compute_material_ad5a9a88431fa1b207fb59f4d52528fe2}{Compute\+Material}}.



Definition at line \mbox{\hyperlink{_material_8h_source_l00085}{85}} of file \mbox{\hyperlink{_material_8h_source}{Material.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00085\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \}}

\end{DoxyCode}
\Hypertarget{class_material_a7a9c710b2d7a286c1349315b6fd6ab7a}\index{Material@{Material}!IsInstancingSupported@{IsInstancingSupported}}
\index{IsInstancingSupported@{IsInstancingSupported}!Material@{Material}}
\doxysubsubsection{\texorpdfstring{IsInstancingSupported()}{IsInstancingSupported()}}
{\footnotesize\ttfamily \label{class_material_a7a9c710b2d7a286c1349315b6fd6ab7a} 
bool Material\+::\+Is\+Instancing\+Supported (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [nodiscard]}}



Returns whether instanced rendering is supported for this material. 

This is typically determined by the underlying \doxylink{class_shader}{Shader}\textquotesingle{}s capabilities (e.\+g., presence of required instancing attributes/uniform conventions). If unsupported, \doxylink{class_render_manager}{Render\+Manager} should fall back to per-\/object draws even if objects are batchable.

\begin{DoxyReturn}{Returns}
True if instancing is supported; false otherwise. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_material_8cpp_source_l00028}{28}} of file \mbox{\hyperlink{_material_8cpp_source}{Material.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00029\ \{}
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_material_a88e57329587a1d1d2852d926890e2c4f}{isInstancingEnabled}}\ \&\&\ \mbox{\hyperlink{class_material_abaac6082ee6cf042b2d4da4f6e6fe403}{shader}}\ \&\&\ \mbox{\hyperlink{class_material_abaac6082ee6cf042b2d4da4f6e6fe403}{shader}}-\/>SupportsInstancing();}
\DoxyCodeLine{00031\ \}}

\end{DoxyCode}
\Hypertarget{class_material_ae4ad039257d5695090655fbd89ef179b}\index{Material@{Material}!SendData@{SendData}}
\index{SendData@{SendData}!Material@{Material}}
\doxysubsubsection{\texorpdfstring{SendData()}{SendData()}}
{\footnotesize\ttfamily \label{class_material_ae4ad039257d5695090655fbd89ef179b} 
void Material\+::\+Send\+Data (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Sends material-\/specific data beyond the standard textures and uniforms. 

Base \doxylink{class_material}{Material} implementation may be a no-\/op or may forward to Send\+Uniforms/\+Send\+Textures. \doxylink{class_compute_material}{Compute\+Material} overrides this to bind images and set up compute-\/specific state. 

Reimplemented in \mbox{\hyperlink{class_compute_material_a3c8944e037369072b1685f9e907bc7dc}{Compute\+Material}}.



Definition at line \mbox{\hyperlink{_material_8cpp_source_l00022}{22}} of file \mbox{\hyperlink{_material_8cpp_source}{Material.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00023\ \{}
\DoxyCodeLine{00024\ \ \ \ \ \mbox{\hyperlink{class_material_aa3a56da50b75b341743552348b587611}{SendTextures}}();}
\DoxyCodeLine{00025\ \ \ \ \ \mbox{\hyperlink{class_material_a39001e95de2408283f42efa7e8657a05}{SendUniforms}}();}
\DoxyCodeLine{00026\ \}}

\end{DoxyCode}
\Hypertarget{class_material_aa3a56da50b75b341743552348b587611}\index{Material@{Material}!SendTextures@{SendTextures}}
\index{SendTextures@{SendTextures}!Material@{Material}}
\doxysubsubsection{\texorpdfstring{SendTextures()}{SendTextures()}}
{\footnotesize\ttfamily \label{class_material_aa3a56da50b75b341743552348b587611} 
void Material\+::\+Send\+Textures (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Binds all textures stored in the texture table to texture units and assigns sampler uniforms. 

Iterates textures and\+:
\begin{DoxyItemize}
\item binds each \doxylink{class_texture}{Texture} to a unit (\doxylink{class_texture_a6e1092f212113f38bf84b245b982943c}{Texture\+::\+Bind\+To\+Unit})
\item updates the corresponding sampler uniform to that unit
\end{DoxyItemize}

The exact unit assignment strategy is implementation-\/defined. 

Definition at line \mbox{\hyperlink{_material_8cpp_source_l00069}{69}} of file \mbox{\hyperlink{_material_8cpp_source}{Material.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00070\ \{}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordtype}{int}\ unit\ =\ 0;}
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ [uniformName,\ tex]\ :\ \mbox{\hyperlink{class_material_a73c44b66bc920571726bfd6dbdeeec26}{textures}})}
\DoxyCodeLine{00073\ \ \ \ \ \{}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!tex)\ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ tex-\/>BindToUnit(unit);}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_material_abaac6082ee6cf042b2d4da4f6e6fe403}{shader}}-\/>SendUniform(uniformName,\ unit);}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ unit++;}
\DoxyCodeLine{00078\ \ \ \ \ \}}
\DoxyCodeLine{00079\ \}}

\end{DoxyCode}
\Hypertarget{class_material_a39001e95de2408283f42efa7e8657a05}\index{Material@{Material}!SendUniforms@{SendUniforms}}
\index{SendUniforms@{SendUniforms}!Material@{Material}}
\doxysubsubsection{\texorpdfstring{SendUniforms()}{SendUniforms()}}
{\footnotesize\ttfamily \label{class_material_a39001e95de2408283f42efa7e8657a05} 
void Material\+::\+Send\+Uniforms (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Sends all typed uniform values stored in the uniform table to the shader. 

Iterates uniforms and uses the correct \doxylink{class_shader_a4729e93872d7483b6d5ec1680ec5f35f}{Shader\+::\+Send\+Uniform} overload based on the \doxylink{_material_8h_a06229a425f27fcb99ce02ae045b56e0d}{Uniform\+Value} variant type. This is usually called during \doxylink{class_material_a1fd6c6c16d1f04e747470a2cc0c52fa1}{Bind()}. 

Definition at line \mbox{\hyperlink{_material_8cpp_source_l00058}{58}} of file \mbox{\hyperlink{_material_8cpp_source}{Material.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00059\ \{}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ [name,\ value]\ :\ \mbox{\hyperlink{class_material_ac18d1c428804aef46a8ec751989e0677}{uniforms}})}
\DoxyCodeLine{00061\ \ \ \ \ \{}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ std::visit([\&](\textcolor{keyword}{auto}\&\&\ val)}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_material_abaac6082ee6cf042b2d4da4f6e6fe403}{shader}}-\/>SendUniform(name,\ val);}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ \},\ value);}
\DoxyCodeLine{00066\ \ \ \ \ \}}
\DoxyCodeLine{00067\ \}}

\end{DoxyCode}
\Hypertarget{class_material_af587d5938f543479d1d2955cb4da1f48}\index{Material@{Material}!SetTexture@{SetTexture}}
\index{SetTexture@{SetTexture}!Material@{Material}}
\doxysubsubsection{\texorpdfstring{SetTexture()}{SetTexture()}}
{\footnotesize\ttfamily \label{class_material_af587d5938f543479d1d2955cb4da1f48} 
void Material\+::\+Set\+Texture (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{uniform\+Name}{, }\item[{\mbox{\hyperlink{class_texture}{Texture}} \texorpdfstring{$\ast$}{*}}]{texture}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Binds a texture to a sampler uniform name. 

Stores the mapping in the internal texture table. The texture is not bound immediately; it is bound later during \doxylink{class_material_aa3a56da50b75b341743552348b587611}{Send\+Textures()} when \doxylink{class_render_manager}{Render\+Manager} binds the material for a draw.

If the same uniform name already exists, it is overwritten.


\begin{DoxyParams}{Parameters}
{\em uniform\+Name} & Sampler uniform name expected by the shader (e.\+g., "{}u\+\_\+\+Texture"{}). \\
\hline
{\em texture} & \doxylink{class_texture}{Texture} pointer to bind to the sampler. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_material_8h_source_l00099}{99}} of file \mbox{\hyperlink{_material_8h_source}{Material.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00100\ \ \ \ \ \{}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_material_a73c44b66bc920571726bfd6dbdeeec26}{textures}}[uniformName]\ =\ texture;}
\DoxyCodeLine{00102\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{class_material_a6c49cb3082a29e0d412577dad3cfde5f}\index{Material@{Material}!SetUniform@{SetUniform}}
\index{SetUniform@{SetUniform}!Material@{Material}}
\doxysubsubsection{\texorpdfstring{SetUniform()}{SetUniform()}}
{\footnotesize\ttfamily \label{class_material_a6c49cb3082a29e0d412577dad3cfde5f} 
void Material\+::\+Set\+Uniform (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name}{, }\item[{\mbox{\hyperlink{_material_8h_a06229a425f27fcb99ce02ae045b56e0d}{Uniform\+Value}}}]{value}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sets a typed uniform value to be sent during binding. 

Stores (name -\/\texorpdfstring{$>$}{>} value) in uniforms. Values are sent to the shader during \doxylink{class_material_a1fd6c6c16d1f04e747470a2cc0c52fa1}{Bind()}/\+Send\+Uniforms(). If the same uniform name already exists, it is overwritten.


\begin{DoxyParams}{Parameters}
{\em name} & Uniform name expected by the shader. \\
\hline
{\em value} & Typed uniform value (int/float/vec2/vec3/vec4/mat4). \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{_material_8h_source_l00114}{114}} of file \mbox{\hyperlink{_material_8h_source}{Material.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00115\ \ \ \ \ \{}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_material_ac18d1c428804aef46a8ec751989e0677}{uniforms}}[name]\ =\ value;}
\DoxyCodeLine{00117\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{class_material_abe3526386e44d6a10fec0e6859dd564a}\index{Material@{Material}!UnBind@{UnBind}}
\index{UnBind@{UnBind}!Material@{Material}}
\doxysubsubsection{\texorpdfstring{UnBind()}{UnBind()}}
{\footnotesize\ttfamily \label{class_material_abe3526386e44d6a10fec0e6859dd564a} 
void Material\+::\+Un\+Bind (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}}



Unbinds this material after rendering. 

Expected responsibilities\+:
\begin{DoxyItemize}
\item Unbind textures if the engine requires explicit cleanup.
\item Deactivates the shader program.
\end{DoxyItemize}

This is intended to be called by \doxylink{class_render_manager}{Render\+Manager} after drawing or when switching materials. 

Definition at line \mbox{\hyperlink{_material_8cpp_source_l00010}{10}} of file \mbox{\hyperlink{_material_8cpp_source}{Material.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00011\ \{}
\DoxyCodeLine{00012\ \ \ \ \ \textcolor{keywordtype}{int}\ unit\ =\ 0;}
\DoxyCodeLine{00013\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ [uniformName,\ tex]\ :\ \mbox{\hyperlink{class_material_a73c44b66bc920571726bfd6dbdeeec26}{textures}})}
\DoxyCodeLine{00014\ \ \ \ \ \{}
\DoxyCodeLine{00015\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!tex)\ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00016\ \ \ \ \ \ \ \ \ tex-\/>UnBind(unit);}
\DoxyCodeLine{00017\ \ \ \ \ \ \ \ \ unit++;}
\DoxyCodeLine{00018\ \ \ \ \ \}}
\DoxyCodeLine{00019\ \ \ \ \ \mbox{\hyperlink{class_material_abaac6082ee6cf042b2d4da4f6e6fe403}{shader}}-\/>Unuse();}
\DoxyCodeLine{00020\ \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\Hypertarget{class_material_a88e57329587a1d1d2852d926890e2c4f}\index{Material@{Material}!isInstancingEnabled@{isInstancingEnabled}}
\index{isInstancingEnabled@{isInstancingEnabled}!Material@{Material}}
\doxysubsubsection{\texorpdfstring{isInstancingEnabled}{isInstancingEnabled}}
{\footnotesize\ttfamily \label{class_material_a88e57329587a1d1d2852d926890e2c4f} 
bool Material\+::is\+Instancing\+Enabled\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{_material_8h_source_l00192}{192}} of file \mbox{\hyperlink{_material_8h_source}{Material.\+h}}.

\Hypertarget{class_material_ac45dc348bf7022593d789b6bf7b407cb}\index{Material@{Material}!RenderManager@{RenderManager}}
\index{RenderManager@{RenderManager}!Material@{Material}}
\doxysubsubsection{\texorpdfstring{RenderManager}{RenderManager}}
{\footnotesize\ttfamily \label{class_material_ac45dc348bf7022593d789b6bf7b407cb} 
friend Material\+::\+Render\+Manager\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{_material_8h_source_l00061}{61}} of file \mbox{\hyperlink{_material_8h_source}{Material.\+h}}.

\Hypertarget{class_material_abaac6082ee6cf042b2d4da4f6e6fe403}\index{Material@{Material}!shader@{shader}}
\index{shader@{shader}!Material@{Material}}
\doxysubsubsection{\texorpdfstring{shader}{shader}}
{\footnotesize\ttfamily \label{class_material_abaac6082ee6cf042b2d4da4f6e6fe403} 
\mbox{\hyperlink{class_shader}{Shader}}\texorpdfstring{$\ast$}{*} Material\+::shader\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{_material_8h_source_l00190}{190}} of file \mbox{\hyperlink{_material_8h_source}{Material.\+h}}.

\Hypertarget{class_material_a73c44b66bc920571726bfd6dbdeeec26}\index{Material@{Material}!textures@{textures}}
\index{textures@{textures}!Material@{Material}}
\doxysubsubsection{\texorpdfstring{textures}{textures}}
{\footnotesize\ttfamily \label{class_material_a73c44b66bc920571726bfd6dbdeeec26} 
std\+::unordered\+\_\+map$<$std\+::string, \mbox{\hyperlink{class_texture}{Texture}}\texorpdfstring{$\ast$}{*}$>$ Material\+::textures\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{_material_8h_source_l00236}{236}} of file \mbox{\hyperlink{_material_8h_source}{Material.\+h}}.

\Hypertarget{class_material_ac18d1c428804aef46a8ec751989e0677}\index{Material@{Material}!uniforms@{uniforms}}
\index{uniforms@{uniforms}!Material@{Material}}
\doxysubsubsection{\texorpdfstring{uniforms}{uniforms}}
{\footnotesize\ttfamily \label{class_material_ac18d1c428804aef46a8ec751989e0677} 
std\+::unordered\+\_\+map$<$std\+::string, \mbox{\hyperlink{_material_8h_a06229a425f27fcb99ce02ae045b56e0d}{Uniform\+Value}}$>$ Material\+::uniforms\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{_material_8h_source_l00191}{191}} of file \mbox{\hyperlink{_material_8h_source}{Material.\+h}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Project/\+Jin\+Engine/\+Public/\mbox{\hyperlink{_material_8h}{Material.\+h}}\item 
Project/\+Jin\+Engine/\+Private/\mbox{\hyperlink{_material_8cpp}{Material.\+cpp}}\end{DoxyCompactItemize}
